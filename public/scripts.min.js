import{gsap as t}from"gsap";import{ScrollTrigger as e}from"gsap/ScrollTrigger.js";import{TextPlugin as o}from"gsap/TextPlugin.js";import r from"lenis";document.querySelectorAll(".lazy-img").forEach(t=>{t.onload=()=>{e.refresh()}}),t.registerPlugin(e,o),window.addEventListener("load",()=>{t.from("body",{autoAlpha:0})});let lenis=new r;lenis.on("scroll",e.update),t.ticker.add(t=>{lenis.raf(1e3*t)}),t.ticker.lagSmoothing(0);let introTl=t.timeline({defaults:{duration:1}}).to("#intro .greetings, #intro p",{opacity:0}).to("#intro .fullname",{xPercent:-20}).to("#intro svg",{rotateZ:180},"<").from(".clown",{opacity:0,x:-50},"<+1");e.create({trigger:"#intro",start:"top top",end:"bottom+=400 top",animation:introTl,pin:!0,scrub:.2,markers:!1});let courtainsTl=t.timeline().to(".courtains-title:nth-child(1)",{x:-100,y:-100,opacity:0},"+=0.15").to(".courtains-title:nth-child(2)",{x:100,y:100,opacity:0},"<").from(".courtains-text",{scale:0,opacity:0},"<+=0.03").from(".courtains.left",{xPercent:-100}).from(".courtains.right",{xPercent:100},"<");e.create({trigger:"#courtains",start:"top top",end:"top+=3000 bottom",animation:courtainsTl,pin:!0,scrub:.5,markers:!1});let presentationParagraphs=document.querySelectorAll("#presentation .info > div"),presentationTitle=document.querySelector("#presentation .stickyTitle > h3"),presentationTitles=["Who am I?","What are<br/>my passions?","What about<br/>my hobbies?","What do I do<br/>for a living?",];presentationTitles.forEach((o,r)=>{let i=()=>t.to(presentationTitle,{text:o}),n=()=>t.to(presentationTitle,{text:{value:o,rtl:!0}});e.create({trigger:presentationParagraphs[r],start:"top 50% ",end:"bottom 50%",markers:!1,onEnter:i,onEnterBack:n,scrub:1})});let certificatesIntroTl=t.timeline().to("#certificates .title",{opacity:0},"1").from("#certificates .school",{opacity:0}).to("#certificates .school",{opacity:0},">+1").from("#certificates .but",{opacity:0}).to("#certificates .but",{opacity:0},">+1");e.create({trigger:"#certificates > .intro",animation:certificatesIntroTl,start:"top top",end:"bottom+=1500 bottom",markers:!1,pin:!0,scrub:.5});let certificates=document.querySelectorAll(".numberOfCertificates");certificates.forEach(o=>{t.set(o.querySelectorAll(".number"),{yPercent:-50});let r=t.timeline().from(o.querySelectorAll(".number > div"),{yPercent:100,stagger:.2}).from(o.querySelector(".info"),{opacity:0},"<");e.create({trigger:o,start:"top bottom",end:"top 80%",animation:r,markers:!1,scrub:1})});let knowledge=document.querySelector("#knowledge .horizontal-scroll"),getScrollAmount=()=>-(knowledge.scrollWidth-window.innerWidth+(window.innerWidth/2-200)),tween=t.to(knowledge,{x:getScrollAmount,duration:3,ease:"none"});e.create({trigger:"#knowledge .wrapper",start:"top top",end:()=>`+=${-1*getScrollAmount()}`,pin:!0,animation:tween,scrub:1,invalidateOnRefresh:!0,markers:!1}),e.create({trigger:".technologies",start:"top bottom",end:"bottom+=200 top",scrub:.5,markers:!1,animation:t.to(".parallax-logo",{duration:1,y(t,e){let o=e.dataset.multiplier;return`-=${100*o}`}})});let getBottom=()=>document.getElementById("engimedia").clientHeight-window.innerWidth,engimediaTween=t.from("#engimedia .logo",{bottom:()=>document.getElementById("engimedia").clientHeight-window.innerWidth,ease:"none"});e.create({trigger:"#engimedia",start:"top top",end:"bottom 80%",animation:engimediaTween,invalidateOnRefresh:!0,scrub:0,markers:!1});let getFinalSize=()=>2*Math.sqrt(window.innerWidth*window.innerWidth+window.innerHeight*window.innerHeight);e.create({trigger:"#setitup .background",start:"top top",end:"bottom+=1000 bottom",animation:t.to("#setitup .background .circle",{width:getFinalSize,height:getFinalSize,ease:"power2.out"}),invalidateOnRefresh:!0,pin:!0,scrub:0,markers:!1});let setitupBubblesTween=t.to("#setitup .bubble",{y:-600});e.create({trigger:"#setitup .content",start:"top bottom",end:"bottom top",animation:setitupBubblesTween,scrub:.5,markers:!1});let wompoIntroTween=t.timeline().to("#wompo .bubble",{backgroundColor:"#573EF6",width:()=>Math.max(window.innerWidth,window.innerHeight)+Math.min(window.innerWidth,window.innerHeight)/2,height:()=>Math.max(window.innerWidth,window.innerHeight)+Math.min(window.innerWidth,window.innerHeight)/2}).from("#wompo-logo",{opacity:0,scale:.5}).from("#wompo .wompo-title",{opacity:0,y:100},">-0.3");e.create({trigger:"#wompo .intro",start:"top top",end:"bottom+=1000 top",animation:wompoIntroTween,pin:!0,scrub:.2,markers:!1}),document.querySelectorAll("#wompo .info .container p").forEach((o,r)=>{let i=t.from(o,{opacity:0,x:r%2==0?-100:100});e.create({trigger:o,start:"top 80%",end:"bottom top",animation:i,toggleActions:"restart none none reverse",markers:!1})});